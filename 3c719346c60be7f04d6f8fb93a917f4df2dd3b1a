{
  "comments": [
    {
      "key": {
        "uuid": "811662b3_7988e981",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 27,
      "author": {
        "id": 1247893
      },
      "writtenOn": "2020-08-05T21:59:13Z",
      "side": 1,
      "message": "Is this inaccessible because I\u0027m not a Googler, or is there something wrong?",
      "range": {
        "startLine": 27,
        "startChar": 5,
        "endLine": 27,
        "endChar": 23
      },
      "revId": "3c719346c60be7f04d6f8fb93a917f4df2dd3b1a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "fea7e51f_58e184e2",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 27,
      "author": {
        "id": 1004789
      },
      "writtenOn": "2020-08-05T22:41:39Z",
      "side": 1,
      "message": "yeah, that\u0027s a googler-only bug (the interesting part of which is pasted into the commit message above).",
      "parentUuid": "811662b3_7988e981",
      "range": {
        "startLine": 27,
        "startChar": 5,
        "endLine": 27,
        "endChar": 23
      },
      "revId": "3c719346c60be7f04d6f8fb93a917f4df2dd3b1a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f78732a5_9a27111e",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 27,
      "author": {
        "id": 1247893
      },
      "writtenOn": "2020-08-06T09:35:37Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "fea7e51f_58e184e2",
      "range": {
        "startLine": 27,
        "startChar": 5,
        "endLine": 27,
        "endChar": 23
      },
      "revId": "3c719346c60be7f04d6f8fb93a917f4df2dd3b1a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "08bae8ae_f004e362",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1004789
      },
      "writtenOn": "2020-08-05T20:05:47Z",
      "side": 1,
      "message": "it looks like i don\u0027t get a \"CQ Dry Run\" button (as mentioned on https://chromium.googlesource.com/chromium/src/+/master/docs/commit_checklist.md)?",
      "revId": "3c719346c60be7f04d6f8fb93a917f4df2dd3b1a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "35e4575f_0fff14e1",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1247893
      },
      "writtenOn": "2020-08-05T21:59:13Z",
      "side": 1,
      "message": "Yeah, we\u0027re not in Chromium/src so no CQ for us at the moment - we\u0027re working on it though.\n\nCould you - if you haven\u0027t already - build and run the libjpeg_turbo_unittests on an Intel platform to make sure everything\u0027s good. You will want to do \"--gtest_filter\u003d-CJPEGTest.IFastProg420Q100\" as that test triggers a known issue on Intel.\n\nRegarding the UBSan patches you mention in the bug ticket, those will be covered by us updating to v2.0.5. If Chris doesn\u0027t get there before me, I should have a patch for that late tomorrow or Friday (all being well.)",
      "parentUuid": "08bae8ae_f004e362",
      "revId": "3c719346c60be7f04d6f8fb93a917f4df2dd3b1a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "55e33d8d_b1b746b1",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1004789
      },
      "writtenOn": "2020-08-05T22:41:39Z",
      "side": 1,
      "message": "\u003e Could you - if you haven\u0027t already - build and run the libjpeg_turbo_unittests\n\nassume the first time i built chrome was yesterday, and i don\u0027t know how to run those tests, and need something i can paste into a terminal :-)\n\n./out/Default/unit_tests seems to want to run *everything*, but there isn\u0027t a separate libjpeg_turbo_unittests binary like there would be in an Android build? and guessing that i could use --gtest_filter to select the jpeg tests doesn\u0027t seem to work. in particular, i can\u0027t even run the one you said to avoid:\n\n```\n~/chromium/src$ ./out/Default/unit_tests --gtest_filter\u003d\"CJPEGTest.*\"\nIMPORTANT DEBUGGING NOTE: batches of tests are run inside their\nown process. For debugging a test inside a debugger, use the\n--gtest_filter\u003d\u003cyour_test_name\u003e flag along with\n--single-process-tests.\nUsing sharding settings from environment. This is shard 0/1\nUsing 1 parallel jobs.\nWARNING: No matching tests to run.\nSUCCESS: all tests passed.\nTests took 0 seconds.\n~/chromium/src$ \n```\n\n\u003e If Chris doesn\u0027t get there before me, I should have a patch for that late tomorrow or Friday\n\nawesome, thanks! (we still have plenty of time to get this done, i just wanted this week to make sure i knew what else we needed and that there were no remaining major blockers. but as soon as you\u0027ve got those patches in, i should be able to get Android moved over...)",
      "parentUuid": "35e4575f_0fff14e1",
      "revId": "3c719346c60be7f04d6f8fb93a917f4df2dd3b1a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3cb90b83_f1bb9880",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1004789
      },
      "writtenOn": "2020-08-05T22:43:10Z",
      "side": 1,
      "message": "hmm... do i need to build the tests in some special way?\n\n```\n~/chromium/src$ ./out/Default/unit_tests --gtest_list_tests | grep -i jpeg\n  NeedsEncodeImage_JpegFormat\n```\n\ni\u0027d used `autoninja -C out/Default unit_tests` which is what go/chrome-linux-build#running-test-targets (which also won\u0027t work outside google) said to do...",
      "parentUuid": "55e33d8d_b1b746b1",
      "revId": "3c719346c60be7f04d6f8fb93a917f4df2dd3b1a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "63977fc2_f672cd18",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1247893
      },
      "writtenOn": "2020-08-06T09:35:37Z",
      "side": 1,
      "message": "To build the unit tests: ninja -C out/Default third_party/libjpeg_turbo:libjpeg_turbo_unittests\n\nAnd to run (assuming locally compiled on Linux x86_64): \n./out/Default/libjpeg_turbo_unittests --gtest_filter\u003d-CJPEGTest.IFastProg420Q100 2\u003etest.log",
      "parentUuid": "3cb90b83_f1bb9880",
      "revId": "3c719346c60be7f04d6f8fb93a917f4df2dd3b1a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "78a389a1_2b1c1639",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1247893
      },
      "writtenOn": "2020-08-06T09:35:37Z",
      "side": 1,
      "message": "See above reply ;)",
      "parentUuid": "3cb90b83_f1bb9880",
      "revId": "3c719346c60be7f04d6f8fb93a917f4df2dd3b1a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a5fcadda_d1508531",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1004789
      },
      "writtenOn": "2020-08-06T18:33:14Z",
      "side": 1,
      "message": "ah, that worked. thanks! (this copy \u0026 paste is from ps2.)\n```\n[\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d] 225 tests from 8 test suites ran. (54073 ms total)\n[  PASSED  ] 225 tests.\n```\n\nand to answer the \"does this patch actually do what it\u0027s supposed to?\" question:\n```\n~/chromium/src$ readelf -aW out/Default/obj/third_party/libjpeg_turbo/libjpeg/jpeg_nbits_table.o | grep nbits\n0000000000000000  0000000700000001 R_X86_64_64            0000000000000000 jpeg_nbits_table + 0\n     1: 0000000000000000     0 FILE    LOCAL  DEFAULT  ABS jpeg_nbits_table.c\n     7: 0000000000000000 65536 OBJECT  GLOBAL HIDDEN     3 jpeg_nbits_table\n~/chromium/src$ \n```",
      "parentUuid": "78a389a1_2b1c1639",
      "revId": "3c719346c60be7f04d6f8fb93a917f4df2dd3b1a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "169b849d_3d6b79d2",
        "filename": "jpeg_nbits_table.c",
        "patchSetId": 1
      },
      "lineNbr": 3,
      "author": {
        "id": 1189229
      },
      "writtenOn": "2020-08-05T23:54:20Z",
      "side": 1,
      "message": "I think this syntax works in GCC and Clang but not VC, right?",
      "range": {
        "startLine": 3,
        "startChar": 0,
        "endLine": 3,
        "endChar": 37
      },
      "revId": "3c719346c60be7f04d6f8fb93a917f4df2dd3b1a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "39d29cc3_1cea02f0",
        "filename": "jpeg_nbits_table.c",
        "patchSetId": 1
      },
      "lineNbr": 3,
      "author": {
        "id": 1004789
      },
      "writtenOn": "2020-08-06T18:33:14Z",
      "side": 1,
      "message": "correct. ps2 adds a `__GNUC__` check. (aiui from the internet, it looks like MSVC defaults to hidden and you have to \"dllexport\" things explicitly for them to be non-hidden? but if there\u0027s something i should add for MSVC, let me know.)",
      "parentUuid": "169b849d_3d6b79d2",
      "range": {
        "startLine": 3,
        "startChar": 0,
        "endLine": 3,
        "endChar": 37
      },
      "revId": "3c719346c60be7f04d6f8fb93a917f4df2dd3b1a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}